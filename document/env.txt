# 1. Tạo môi trường tại /home/trong/KLTN_SEMI
conda create --prefix /home/coder/trong/KLTN_SEMI/web/.envweb python=3.9.19 -y




conda create --prefix /home/coder/data/trong/data_semi/.env_semi/ python=3.9.19 -y

conda activate /home/coder/data/trong/data_semi/.env_semi


conda create --prefix /home/coder/trong/temp/.envisualize python=3.9.19 -y



đường dẫn: env /home/coder/trong/KLTN_SEMI/.env_semi/


cách kích hoạt conda: 
    conda init bash
    conda activate /home/coder/trong/KLTN_SEMI/.env_semi/
    conda activate unbiased


pip install torch torchvision --index-url https://download.pytorch.org/whl/cu126

pip install torch==2.0.0+cu118 torchvision==0.15.1+cu118 torchaudio==2.0.1 --index-url https://download.pytorch.org/whl/cu118

python -m pip install 'git+https://github.com/facebookresearch/detectron2.git'

python /home/coder/trong/KLTN_SEMI/code/Unbiased_Teacher/train_net.py --num-gpus 1 --config /home/coder/trong/KLTN_SEMI/code/Unbiased_Teacher/configs/coco_supervision/faster_rcnn_R_50_FPN_sup1_run1_custom.yaml

from detectron2.data.datasets import register_coco_instances

register_coco_instances("TRAIN_DATASET", {}, "/home/coder/trong/KLTN_SEMI/data/train/_annotations.coco.json", "/home/coder/trong/KLTN_SEMI/data/train")
register_coco_instances("VAL_DATASET", {}, "/home/coder/trong/KLTN_SEMI/data/valid/_annotations.coco.json", "/home/coder/trong/KLTN_SEMI/data/valid")

sudo apt update && upgrade -y
sudo apt install libgl1-mesa-glx -y

ldconfig -p | grep libGL


setup soft Teacher 

conda create --prefix /home/coder/data/trong/data_semi/.env_soft/ python=3.9.19 -y
conda activate /home/coder/data/trong/data_semi/.env_soft
pip install torch==2.0.0 torchvision==0.15.1 torchaudio==2.0.1
pip install torch==2.0.0+cu118 torchvision==0.15.1+cu118 torchaudio==2.0.1 --index-url https://download.pytorch.org/whl/cu118
check version cuda: nvidia-smi
cd /home/coder/trong/KLTN_SEMI/code/Soft_Teacher
pip install mmcv==2.0.1 -f https://download.openmmlab.com/mmcv/dist/cu118/torch2.0/index.html

cd mmengine/
pip install -e . -v
cd /home/coder/trong/KLTN_SEMI/code/Soft_Teacher/mmdetection
pip install -v -e .

pip install opencv-python numpy==1.26.4

curl -L "https://app.roboflow.com/ds/CQMQrjASwt?key=EjOTRo38YV" > roboflow.zip; unzip roboflow.zip; rm roboflow.zip

python /home/coder/trong/KLTN_SEMI/code/Soft_Teacher/mmdetection/tools/misc/split_coco.py --data-root /home/coder/trong/KLTN_SEMI/code/Soft_Teacher/data_mmdetection/coco/ --out-dir /home/coder/trong/KLTN_SEMI/code/Soft_Teacher/data_mmdetection/coco/semi_anns/ --labeled-percent 40


instances_train2017
instances_test2017
instances_valid2017

python /home/coder/trong/KLTN_SEMI/code/Soft_Teacher/mmdetection/tools/train.py /home/coder/trong/KLTN_SEMI/code/Soft_Teacher/mmdetection/configs/soft_teacher/soft_teacher_custom_40.py

sudo apt update
sudo apt install libgl1-mesa-glx

ldconfig -p | grep libGL
/home/coder/trong/KLTN_SEMI/code/Soft_Teacher/data_mmdetection/coco/semi_anns/instances_train2017.1@40.0-unlabeled.json






setup SEMI DETR Mixup
conda create --prefix /home/coder/data/trong/data_semi/.env_detr/ python=3.9.19 -y
conda activate /home/coder/data/trong/data_semi/.env_detr